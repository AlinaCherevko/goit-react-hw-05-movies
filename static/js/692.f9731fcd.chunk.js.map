{"version":3,"file":"static/js/692.f9731fcd.chunk.js","mappings":"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","sources":["webpack://react-homework-template/./src/components/FilmList/FilmList.module.css?b497","components/FilmList/FilmList.jsx","webpack://react-homework-template/./src/pages/HomePage.module.css?fc1d","pages/HomePage.jsx","servises/api.js"],"sourcesContent":["// extracted by mini-css-extract-plugin\nexport default {\"filmList\":\"FilmList_filmList__-Jt7D\",\"filmItem\":\"FilmList_filmItem__0hLrq\",\"filmLink\":\"FilmList_filmLink__ZDUIW\",\"detailsImage\":\"FilmList_detailsImage__qEwhJ\",\"textWrap\":\"FilmList_textWrap__6CwY6\",\"hiddenText\":\"FilmList_hiddenText__ffqyP\",\"buttonYoutube\":\"FilmList_buttonYoutube__GZXly\",\"filmTitle\":\"FilmList_filmTitle__Qz0ui\"};","import React from 'react';\nimport { Link, useLocation } from 'react-router-dom';\n\nimport css from './FilmList.module.css';\n\nexport const FilmList = ({ results }) => {\n  const location = useLocation();\n  const path = 'https://image.tmdb.org/t/p/original';\n  return (\n    <ul className={css.filmList}>\n      {results.map(result => (\n        <li className={css.filmItem} key={result.id}>\n          <Link\n            className={css.filmLink}\n            state={{ from: location }}\n            to={`/movies/${result.id}`}\n          >\n            <div className={css.textWrap}>\n              <img\n                className={css.detailsImage}\n                src={path + result.poster_path}\n                alt={result.title}\n              />\n              <div className={css.hiddenText}>\n                <span class={css.buttonYoutube}>YouTube</span>\n              </div>\n            </div>\n            <p className={css.filmTitle}>{result.title}</p>\n          </Link>\n        </li>\n      ))}\n    </ul>\n  );\n};\n","// extracted by mini-css-extract-plugin\nexport default {\"wrap\":\"HomePage_wrap__SjCET\",\"title\":\"HomePage_title__G4sQi\",\"loadMore\":\"HomePage_loadMore__UIGrS\"};","import React, { useEffect, useState } from 'react';\nimport { getData } from 'servises/api';\nimport { FilmList } from 'components/FilmList/FilmList';\n\nimport css from './HomePage.module.css';\n\nconst HomePage = () => {\n  // console.log(location);\n  const [results, setResults] = useState([]);\n  const [page, setPage] = useState(1);\n  const [isVisibleLoadMoreBtn, setIsVisibleLoadMoreBtn] = useState(false);\n  // const isFirstRender = useRef(true);\n\n  const onLoadMoreClick = () => {\n    setPage(prevState => prevState + 1);\n  };\n\n  useEffect(() => {\n    const getResults = async () => {\n      try {\n        const { results, total_pages } = await getData(page);\n\n        setResults(prevState => [...prevState, ...results]);\n        setIsVisibleLoadMoreBtn(page < total_pages);\n      } catch (error) {}\n    };\n\n    // if (isFirstRender.current) {\n    //   isFirstRender.current = false;\n    //   return;\n    // }\n    getResults();\n  }, [page]);\n  return (\n    <div className={css.wrap}>\n      <h1 className={css.title}>Trending today</h1>\n      {results.length > 0 && <FilmList results={results} />}\n      {isVisibleLoadMoreBtn && (\n        <button className={css.loadMore} onClick={onLoadMoreClick}>\n          Load more\n        </button>\n      )}\n    </div>\n  );\n};\n\nexport default HomePage;\n","import axios from 'axios';\n\naxios.defaults.baseURL = 'https://api.themoviedb.org/3';\naxios.defaults.headers.common['Authorization'] =\n  'Bearer eyJhbGciOiJIUzI1NiJ9.eyJhdWQiOiJiNzNkMWNlMGNiNmEzYWMzYzFkYjM4ZDM3N2I4MjRlZiIsInN1YiI6IjY0ODYzMjhlMDI4ZjE0MDEzYjg2MmZlYiIsInNjb3BlcyI6WyJhcGlfcmVhZCJdLCJ2ZXJzaW9uIjoxfQ.HoABGc9RClt9cVwg4PCMlGrDzSxlVjcxQL3XcwPvhY0';\n\nexport async function getData(perPage = 1) {\n  const { data } = await axios.get(\n    `/trending/movie/day?page=${perPage}&language=en-US`\n  );\n  console.log(data);\n  return data;\n}\n// getData();\n\nexport async function getDataByQuery(query) {\n  const { data } = await axios.get(\n    `search/movie?query=${query}&language=en-US`\n  );\n  // console.log(data);\n  return data;\n}\n\nexport async function getDataById(id) {\n  const data = await axios.get(`/movie/${id}?language=en-US`);\n  //console.log(data);\n  return data;\n}\n// getDataById();\n\nexport async function getDataAboutCast(id) {\n  const data = await axios.get(`/movie/${id}/credits?language=en-US`);\n  //console.log(data);\n  return data;\n}\n\nexport async function getDataAboutReviews(id) {\n  const data = await axios.get(`/movie/${id}/reviews?language=en-US`);\n  //console.log(data);\n  return data;\n}\n\nexport async function getTrailerById(id) {\n  const { data } = await axios(`/movie/${id}/videos`);\n  // console.log(data);\n\n  const trailerResults = data.results;\n  // console.log(trailerResults);\n  if (trailerResults.length === 0) return;\n  const trailers = trailerResults.filter(\n    trailer => trailer.type === 'Trailer' && trailer.site === 'YouTube'\n  );\n  // console.log(trailers);\n\n  if (trailers.length === 0) return;\n\n  // console.log(trailers[0]);\n  return trailers[0];\n}\n// getTrailerById(496243);\n"],"names":["FilmList","_ref","results","location","useLocation","_jsx","className","css","children","map","result","_jsxs","Link","state","from","to","concat","id","src","poster_path","alt","title","class","_useState","useState","_useState2","_slicedToArray","setResults","_useState3","_useState4","page","setPage","_useState5","_useState6","isVisibleLoadMoreBtn","setIsVisibleLoadMoreBtn","useEffect","getResults","_asyncToGenerator","_regeneratorRuntime","_callee","_yield$getData","_results","total_pages","_context","prev","next","getData","sent","prevState","_toConsumableArray","t0","stop","apply","arguments","length","onClick","_getData","perPage","_yield$axios$get","data","_args","undefined","axios","console","log","abrupt","getDataByQuery","_x","_getDataByQuery","_callee2","query","_yield$axios$get2","_context2","getDataById","_x2","_getDataById","_callee3","_context3","getDataAboutCast","_x3","_getDataAboutCast","_callee4","_context4","getDataAboutReviews","_x4","_getDataAboutReviews","_callee5","_context5","getTrailerById","_x5","_getTrailerById","_callee6","_yield$axios","trailerResults","trailers","_context6","filter","trailer","type","site"],"sourceRoot":""}